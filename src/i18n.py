LANGUAGES = {
    "en": {
        "banner": """
███╗   ███╗    ███████╗    ████████╗     █████╗     ██████╗      █████╗     ████████╗     █████╗
████╗ ████║    ██╔════╝    ╚══██╔══╝    ██╔══██╗    ██╔══██╗    ██╔══██╗    ╚══██╔══╝    ██╔══██╗
██╔████╔██║    █████╗         ██║       ███████║    ██║  ██║    ███████║       ██║       ███████║
██║╚██╔╝██║    ██╔══╝         ██║       ██╔══██║    ██║  ██║    ██╔══██║       ██║       ██╔══██║
██║ ╚═╝ ██║    ███████╗       ██║       ██║  ██║    ██████╔╝    ██║  ██║       ██║       ██║  ██║
╚═╝     ╚═╝    ╚══════╝       ╚═╝       ╚═╝  ╚═╝    ╚═════╝     ╚═╝  ╚═╝       ╚═╝       ╚═╝  ╚═╝
██╗    ██╗     ██████╗     ██████╗     ██╗  ██╗    ███████╗    ██████╗
██║    ██║    ██╔═══██╗    ██╔══██╗    ██║ ██╔╝    ██╔════╝    ██╔══██╗
██║ █╗ ██║    ██║   ██║    ██████╔╝     █████╔╝     █████╗      ██████╔╝
██║███╗██║    ██║   ██║    ██╔══██╗    ██╔═██╗     ██╔══╝      ██╔══██╗
╚███╔███╔╝    ╚██████╔╝    ██║  ██║    ██║  ██╗    ███████╗    ██║  ██║
╚══╝╚══╝      ╚═════╝     ╚═╝  ╚═╝    ╚═╝  ╚═╝    ╚══════╝    ╚═╝  ╚═╝
""",
        "path_to_file": "Path to file (or 'q' to cancel): ",
        "path_to_save": "Path to save (or 'q' to cancel): ",
        "path_to_folder": "Path to folder (or 'q' to cancel): ",
        "file_not_found": "File not found, try again",
        "enter_path": "Enter path",
        "folder_not_found": "Folder not found, try again",
        "select_libunity": "Select libunity.so",
        "select_encrypted": "Select encrypted metadata",
        "select_metadata": "Select metadata file",
        "select_apk": "Select APK file or folder",
        "save_metadata": "Save metadata",
        "save_decrypted": "Save decrypted metadata",
        "max_size": "Max size (30000000): ",
        "force_extract": "Force extract if encrypted? (y/N): ",
        "input": "Input: ",
        "file": "File: ",
        "apk": "APK: ",
        "folder": "Folder: ",
        "libunity": "libunity.so: ",
        "no_file_selected": "Error: No file selected",
        "no_output_path": "Error: No output path selected",
        "invalid_option": "Invalid option",
        "exiting": "Exiting...",
        "press_enter": "Press Enter to continue...",
        "select_option": "Select option",
        "menu_extract": "Extract metadata from libunity.so",
        "menu_decrypt": "Decrypt metadata",
        "menu_info": "Show metadata info",
        "menu_apk": "Extract from APK/folder",
        "menu_switch_lang": "Switch Language / Сменить язык",
        "menu_theme": "Select Theme",
        "menu_exit": "Exit",
        "extract_title": "Extract Metadata from libunity.so",
        "decrypt_title": "Decrypt Metadata",
        "info_title": "Metadata Info",
        "apk_title": "Extract from APK/Folder",
        "apk_select": "Select APK file or unpacked folder",
        "error": "Error: ",
        "metadata_info_title": "Metadata Info",
        "magic": "Magic: ",
        "version": "Version: ",
        "file_size": "File size: ",
        "warning_invalid_magic": "Warning: Invalid magic bytes - file may be encrypted",
        "possible_encryption": "Possible encryption key: ",
        "auto_decrypted": "Auto-decrypted: ",
        "version_detected": "Version detected: ",
        "extracted_to": "Metadata extracted to ",
        "collecting_relocations": "Collecting relocations... ",
        "warning_no_pointer": "Warning: No metadata pointer found via relocations, trying alternative method... ",
        "multiple_candidates": "Multiple candidates found, using first: ",
        "debug_saved": "Debug dump saved to ",
        "warning_end_marker": "Warning: End marker not found, using full dump. ",
        "metadata_size": "Metadata size: ",
        "found_offset_candidates": "Found ",
        "offset_candidates": " offset candidates ",
        "validated_pairs": "Validated ",
        "offset_size_pairs": " offset/size pairs ",
        "found_section": "Found ",
        "at_offset": " at offset ",
        "failed_heuristic": "Failed heuristic: ",
        "warning_sections": "Warning: Only found ",
        "expected_sections": " sections (expected 29) ",
        "output": "Output: ",
        "decrypt_success": "Metadata decrypted successfully! ",
        "starting_decrypt": "Starting metadata decryption... ",
        "not_encrypted": "Metadata is not encrypted or uses unknown encryption ",
        "lang_changed": "Language changed to ",
    },
    "ru": {
        "banner": """
███╗   ███╗    ███████╗    ████████╗     █████╗     ██████╗      █████╗     ████████╗     █████╗
████╗ ████║    ██╔════╝    ╚══██╔══╝    ██╔══██╗    ██╔══██╗    ██╔══██╗    ╚══██╔══╝    ██╔══██╗
██╔████╔██║    █████╗         ██║       ███████║    ██║  ██║    ███████║       ██║       ███████║
██║╚██╔╝██║    ██╔══╝         ██║       ██╔══██║    ██║  ██║    ██╔══██║       ██║       ██╔══██║
██║ ╚═╝ ██║    ███████╗       ██║       ██║  ██║    ██████╔╝    ██║  ██║       ██║       ██║  ██║
╚═╝     ╚═╝    ╚══════╝       ╚═╝       ╚═╝  ╚═╝    ╚═════╝     ╚═╝  ╚═╝       ╚═╝       ╚═╝  ╚═╝
██╗    ██╗     ██████╗     ██████╗     ██╗  ██╗    ███████╗    ██████╗
██║    ██║    ██╔═══██╗    ██╔══██╗    ██║ ██╔╝    ██╔════╝    ██╔══██╗
██║ █╗ ██║    ██║   ██║    ██████╔╝     █████╔╝     █████╗      ██████╔╝
██║███╗██║    ██║   ██║    ██╔══██╗    ██╔═██╗     ██╔══╝      ██╔══██╗
╚███╔███╔╝    ╚██████╔╝    ██║  ██║    ██║  ██╗    ███████╗    ██║  ██║
╚══╝╚══╝      ╚═════╝     ╚═╝  ╚═╝    ╚═╝  ╚═╝    ╚══════╝    ╚═╝  ╚═╝
""",
        "path_to_file": "Путь к файлу (или 'q' для отмены): ",
        "path_to_save": "Путь для сохранения (или 'q' для отмены): ",
        "path_to_folder": "Путь к папке (или 'q' для отмены): ",
        "file_not_found": "Файл не найден, попробуйте снова",
        "enter_path": "Введите путь",
        "folder_not_found": "Папка не найдена, попробуйте снова",
        "select_libunity": "Выберите libunity.so",
        "select_encrypted": "Выберите зашифрованные метаданные",
        "select_metadata": "Выберите файл метаданных",
        "select_apk": "Выберите APK файл или папку",
        "save_metadata": "Сохранить метаданные",
        "save_decrypted": "Сохранить расшифрованные метаданные",
        "max_size": "Макс размер (30000000): ",
        "force_extract": "Извлечь даже если зашифровано? (y/N): ",
        "input": "Вход: ",
        "file": "Файл: ",
        "apk": "APK: ",
        "folder": "Папка: ",
        "libunity": "libunity.so: ",
        "no_file_selected": "Ошибка: Файл не выбран",
        "no_output_path": "Ошибка: Путь вывода не выбран",
        "invalid_option": "Неверная опция",
        "exiting": "Выход...",
        "press_enter": "Нажмите Enter для продолжения...",
        "select_option": "Выберите опцию",
        "menu_extract": "Извлечь метаданные из libunity.so",
        "menu_decrypt": "Расшифровать метаданные",
        "menu_info": "Показать информацию о метаданных",
        "menu_apk": "Извлечь из APK/папки",
        "menu_switch_lang": "Сменить язык / Switch Language",
        "menu_theme": "Выбрать тему",
        "menu_exit": "Выход",
        "extract_title": "Извлечение метаданных из libunity.so",
        "decrypt_title": "Расшифровка метаданных",
        "info_title": "Информация о метаданных",
        "apk_title": "Извлечение из APK/папки",
        "apk_select": "Выберите APK файл или распакованную папку",
        "error": "Ошибка: ",
        "metadata_info_title": "Информация о метаданных",
        "magic": "Magic: ",
        "version": "Версия: ",
        "file_size": "Размер файла: ",
        "warning_invalid_magic": "Внимание: Неверные magic bytes - файл может быть зашифрован",
        "possible_encryption": "Возможный ключ шифрования: ",
        "auto_decrypted": "Авто-расшифровка: ",
        "version_detected": "Обнаружена версия: ",
        "extracted_to": "Метаданные извлечены в ",
        "collecting_relocations": "Сбор релокаций... ",
        "warning_no_pointer": "Внимание: Указатель не найден через релокации, пробуем альтернативный метод... ",
        "multiple_candidates": "Найдено несколько кандидатов, используем первый: ",
        "debug_saved": "Отладочный дамп сохранён в ",
        "warning_end_marker": "Внимание: Маркер конца не найден, используем полный дамп. ",
        "metadata_size": "Размер метаданных: ",
        "found_offset_candidates": "Найдено ",
        "offset_candidates": " кандидатов смещения ",
        "validated_pairs": "Проверено ",
        "offset_size_pairs": " пар смещение/размер ",
        "found_section": "Найдено ",
        "at_offset": " по смещению ",
        "failed_heuristic": "Не удалось эвристику: ",
        "warning_sections": "Внимание: Найдено только ",
        "expected_sections": " секций (ожидалось 29) ",
        "output": "Вывод: ",
        "decrypt_success": "Метаданные успешно расшифрованы! ",
        "starting_decrypt": "Начало расшифровки метаданных... ",
        "not_encrypted": "Метаданные не зашифрованы или используется неизвестное шифрование ",
        "lang_changed": "Язык изменён на ",
    },
}
current_language = "en"


def get(key: str) -> str:
    return LANGUAGES[current_language].get(key, key)


def set_language(lang: str):
    global current_language
    if lang in LANGUAGES:
        current_language = lang


def toggle_language() -> str:
    global current_language
    current_language = "ru" if current_language == "en" else "en"
    return current_language
