# noinspection PyDictDuplicateKeys
LANGUAGES = {
    "en": {
        "banner": """
███╗   ███╗    ███████╗    ████████╗     █████╗     ██████╗      █████╗     ████████╗     █████╗
████╗ ████║    ██╔════╝    ╚══██╔══╝    ██╔══██╗    ██╔══██╗    ██╔══██╗    ╚══██╔══╝    ██╔══██╗
██╔████╔██║    █████╗         ██║       ███████║    ██║  ██║    ███████║       ██║       ███████║
██║╚██╔╝██║    ██╔══╝         ██║       ██╔══██║    ██║  ██║    ██╔══██║       ██║       ██╔══██║
██║ ╚═╝ ██║    ███████╗       ██║       ██║  ██║    ██████╔╝    ██║  ██║       ██║       ██║  ██║
╚═╝     ╚═╝    ╚══════╝       ╚═╝       ╚═╝  ╚═╝    ╚═════╝     ╚═╝  ╚═╝       ╚═╝       ╚═╝  ╚═╝

██╗    ██╗     ██████╗     ██████╗     ██╗  ██╗    ███████╗    ██████╗
██║    ██║    ██╔═══██╗    ██╔══██╗    ██║ ██╔╝    ██╔════╝    ██╔══██╗
██║ █╗ ██║    ██║   ██║    ██████╔╝    █████╔╝     █████╗      ██████╔╝
██║███╗██║    ██║   ██║    ██╔══██╗    ██╔═██╗     ██╔══╝      ██╔══██╗
╚███╔███╔╝    ╚██████╔╝    ██║  ██║    ██║  ██╗    ███████╗    ██║  ██║
 ╚══╝╚══╝      ╚═════╝     ╚═╝  ╚═╝    ╚═╝  ╚═╝    ╚══════╝    ╚═╝  ╚═╝
""",
        "loading": "Loading...",
        "loading_complete": "Loading complete!",
        "path_to_file": "Path to file (or 'q' to cancel): ",
        "path_to_save": "Path to save (or 'q' to cancel): ",
        "path_to_folder": "Path to folder (or 'q' to cancel): ",
        "file_not_found": "File not found, try again",
        "enter_path": "Enter path",
        "folder_not_found": "Folder not found, try again",
        "select_first_file": "Select first metadata file",
        "select_second_file": "Select second metadata file",
        "select_libunity": "Select libunity.so",
        "select_encrypted": "Select encrypted metadata",
        "select_metadata": "Select metadata file",
        "select_apk": "Select APK file or folder",
        "select_output_folder": "Select output folder",
        "save_frida": "Save Frida script",
        "save_metadata": "Save metadata",
        "save_decrypted": "Save decrypted metadata",
        "bytes_to_compare": "Bytes to compare (10): ",
        "offset_prompt": "LoadMetaDataFile offset (e.g., 0x123456): ",
        "max_size": "Max size (30000000): ",
        "force_extract": "Force extract if encrypted? (y/N): ",
        "generate_python": "Generate Python runner script? (y/N): ",
        "output_path": "Output path (dump-metadata.py): ",
        "first_file": "First file: ",
        "second_file": "Second file: ",
        "input": "Input: ",
        "file": "File: ",
        "apk": "APK: ",
        "folder": "Folder: ",
        "libunity": "libunity.so: ",
        "metadata": "metadata: ",
        "output": "output: ",
        "no_file_selected": "Error: No file selected",
        "no_output_path": "Error: No output path selected",
        "invalid_option": "Invalid option",
        "exiting": "Exiting...",
        "press_enter": "Press Enter to continue...",
        "select_option": "Select option",
        "menu_title": "Metadata-Worker Interactive Menu",
        "menu_compare": "Compare metadata files",
        "menu_frida": "Generate Frida script",
        "menu_extract": "Extract metadata from libunity.so",
        "menu_decrypt": "Decrypt metadata",
        "menu_info": "Show metadata info",
        "menu_apk": "Extract from APK/folder",
        "menu_frida_dump": "Generate Frida memory dump script",
        "menu_switch_lang": "Switch Language / Сменить язык",
        "menu_exit": "Exit",
        "compare_title": "Compare Metadata Files",
        "frida_title": "Generate Frida Script",
        "extract_title": "Extract Metadata from libunity.so",
        "decrypt_title": "Decrypt Metadata",
        "info_title": "Metadata Info",
        "apk_title": "Extract from APK/Folder",
        "apk_select": "Select APK file or unpacked folder",
        "memory_dump_title": "Generate Frida Memory Dump Script",
        "memory_dump_style": "CameroonD/Il2CppMetadataExtractor style",
        "memory_dump_usage": "Usage:",
        "memory_dump_requires": "Requires: pip install frida",
        "error": "Error: ",
        "metadata_info_title": "Metadata Info",
        "magic": "Magic: ",
        "version": "Version: ",
        "file_size": "File size: ",
        "warning_invalid_magic": "Warning: Invalid magic bytes - file may be encrypted",
        "possible_encryption": "Possible encryption key: ",
        "found_embedded": "Found embedded metadata at offset ",
        "found_in_apk": "Found metadata in APK: ",
        "found_in_folder": "Found metadata in folder: ",
        "found": "Found: ",
        "no_metadata_apk": "No metadata found in APK",
        "no_metadata_folder": "No metadata found in folder",
        "auto_decrypted": "Auto-decrypted: ",
        "metadata_encrypted": "Metadata appears encrypted. Use --force to extract anyway.",
        "version_detected": "Version detected: ",
        "extracted_to": "Metadata extracted to ",
        "collecting_relocations": "Collecting relocations...",
        "searching_metadata": "Searching for metadata pointer...",
        "warning_no_pointer": "Warning: No metadata pointer found via relocations, trying alternative method...",
        "multiple_candidates": "Multiple candidates found, using first: ",
        "scanning_magic": "Scanning for metadata magic bytes...",
        "found_at_offset": "Found metadata at offset: ",
        "scanning_signature": "Scanning for metadata signature...",
        "found_signature": "Found metadata signature at offset: ",
        "no_metadata_libunity": "Error: No metadata found in libunity.so",
        "found_marker": "Metadata end marker found (",
        "64bit": "64-bit",
        "32bit": "32-bit",
        "warning_end_marker": "Warning: End marker not found, using full dump.",
        "metadata_size": "Metadata size: ",
        "found_offset_candidates": "Found ",
        "offset_candidates": " offset candidates",
        "validated_pairs": "Validated ",
        "offset_size_pairs": " offset/size pairs",
        "found_section": "Found ",
        "at_offset": " at offset ",
        "failed_heuristic": "Failed heuristic: ",
        "debug_saved": "Debug dump saved to ",
        "warning_unknown_version": "Warning: Unknown metadata version ",
        "warning_limited_support": "Warning: Version ",
        "limited_support": " may have limited support",
        "warning_sections": "Warning: Only found ",
        "expected_sections": " sections (expected 29)",
        "output": "Output: ",
        "decrypt_success": "Metadata decrypted successfully!",
        "starting_decrypt": "Starting metadata decryption...",
        "not_encrypted": "Metadata is not encrypted or uses unknown encryption",
        "file_not_exist": "Error: File ",
        "does_not_exist": " does not exist.",
        "bytes_hex": "Bytes from ",
        "bytes_identical": "The first ",
        "bytes_identical_end": " bytes are identical.",
        "bytes_different": "Bytes ",
        "are_different": " are different - possible protection at offset(s) ",
        "frida_saved": "Frida script saved to ",
        "memory_dump_saved": "Frida memory dump script saved to ",
        "python_saved": "Python runner saved to ",
        "running": "Running... ",
        "current_lang": "Current language: ",
        "lang_changed": "Language changed to ",
    },
    "ru": {
        "banner": """
███╗   ███╗    ███████╗    ████████╗     █████╗     ██████╗      █████╗     ████████╗     █████╗
████╗ ████║    ██╔════╝    ╚══██╔══╝    ██╔══██╗    ██╔══██╗    ██╔══██╗    ╚══██╔══╝    ██╔══██╗
██╔████╔██║    █████╗         ██║       ███████║    ██║  ██║    ███████║       ██║       ███████║
██║╚██╔╝██║    ██╔══╝         ██║       ██╔══██║    ██║  ██║    ██╔══██║       ██║       ██╔══██║
██║ ╚═╝ ██║    ███████╗       ██║       ██║  ██║    ██████╔╝    ██║  ██║       ██║       ██║  ██║
╚═╝     ╚═╝    ╚══════╝       ╚═╝       ╚═╝  ╚═╝    ╚═════╝     ╚═╝  ╚═╝       ╚═╝       ╚═╝  ╚═╝

██╗    ██╗     ██████╗     ██████╗     ██╗  ██╗    ███████╗    ██████╗
██║    ██║    ██╔═══██╗    ██╔══██╗    ██║ ██╔╝    ██╔════╝    ██╔══██╗
██║ █╗ ██║    ██║   ██║    ██████╔╝    █████╔╝     █████╗      ██████╔╝
██║███╗██║    ██║   ██║    ██╔══██╗    ██╔═██╗     ██╔══╝      ██╔══██╗
╚███╔███╔╝    ╚██████╔╝    ██║  ██║    ██║  ██╗    ███████╗    ██║  ██║
 ╚══╝╚══╝      ╚═════╝     ╚═╝  ╚═╝    ╚═╝  ╚═╝    ╚══════╝    ╚═╝  ╚═╝
""",
        "loading": "Загрузка...",
        "loading_complete": "Загрузка завершена!",
        "path_to_file": "Путь к файлу (или 'q' для отмены): ",
        "path_to_save": "Путь для сохранения (или 'q' для отмены): ",
        "path_to_folder": "Путь к папке (или 'q' для отмены): ",
        "file_not_found": "Файл не найден, попробуйте снова",
        "enter_path": "Введите путь",
        "folder_not_found": "Папка не найдена, попробуйте снова",
        "select_first_file": "Выберите первый файл метаданных",
        "select_second_file": "Выберите второй файл метаданных",
        "select_libunity": "Выберите libunity.so",
        "select_encrypted": "Выберите зашифрованные метаданные",
        "select_metadata": "Выберите файл метаданных",
        "select_apk": "Выберите APK файл или папку",
        "select_output_folder": "Выберите папку для вывода",
        "save_frida": "Сохранить скрипт Frida",
        "save_metadata": "Сохранить метаданные",
        "save_decrypted": "Сохранить расшифрованные метаданные",
        "bytes_to_compare": "Байт для сравнения (10): ",
        "offset_prompt": "Смещение LoadMetaDataFile (например, 0x123456): ",
        "max_size": "Макс размер (30000000): ",
        "force_extract": "Извлечь даже если зашифровано? (y/N): ",
        "generate_python": "Создать Python runner скрипт? (y/N): ",
        "output_path": "Путь вывода (dump-metadata.py): ",
        "first_file": "Первый файл: ",
        "second_file": "Второй файл: ",
        "input": "Вход: ",
        "file": "Файл: ",
        "apk": "APK: ",
        "folder": "Папка: ",
        "libunity": "libunity.so: ",
        "metadata": "метаданные: ",
        "output": "вывод: ",
        "no_file_selected": "Ошибка: Файл не выбран",
        "no_output_path": "Ошибка: Путь вывода не выбран",
        "invalid_option": "Неверная опция",
        "exiting": "Выход...",
        "press_enter": "Нажмите Enter для продолжения...",
        "select_option": "Выберите опцию",
        "menu_title": "Интерактивное меню Metadata-Worker",
        "menu_compare": "Сравнить файлы метаданных",
        "menu_frida": "Создать скрипт Frida",
        "menu_extract": "Извлечь метаданные из libunity.so",
        "menu_decrypt": "Расшифровать метаданные",
        "menu_info": "Показать информацию о метаданных",
        "menu_apk": "Извлечь из APK/папки",
        "menu_frida_dump": "Создать скрипт дампа памяти Frida",
        "menu_switch_lang": "Сменить язык / Switch Language",
        "menu_exit": "Выход",
        "compare_title": "Сравнение файлов метаданных",
        "frida_title": "Создание скрипта Frida",
        "extract_title": "Извлечение метаданных из libunity.so",
        "decrypt_title": "Расшифровка метаданных",
        "info_title": "Информация о метаданных",
        "apk_title": "Извлечение из APK/папки",
        "apk_select": "Выберите APK файл или распакованную папку",
        "memory_dump_title": "Создание скрипта дампа памяти Frida",
        "memory_dump_style": "Стиль CameroonD/Il2CppMetadataExtractor",
        "memory_dump_usage": "Использование:",
        "memory_dump_requires": "Требуется: pip install frida",
        "error": "Ошибка: ",
        "metadata_info_title": "Информация о метаданных",
        "magic": "Magic: ",
        "version": "Версия: ",
        "file_size": "Размер файла: ",
        "warning_invalid_magic": "Внимание: Неверные magic bytes - файл может быть зашифрован",
        "possible_encryption": "Возможный ключ шифрования: ",
        "found_embedded": "Найдены встроенные метаданные по смещению ",
        "found_in_apk": "Найдены метаданные в APK: ",
        "found_in_folder": "Найдены метаданные в папке: ",
        "found": "Найдено: ",
        "no_metadata_apk": "Метаданные не найдены в APK",
        "no_metadata_folder": "Метаданные не найдены в папке",
        "auto_decrypted": "Авто-расшифровка: ",
        "metadata_encrypted": "Метаданные зашифрованы. Используйте --force для извлечения.",
        "version_detected": "Обнаружена версия: ",
        "extracted_to": "Метаданные извлечены в ",
        "collecting_relocations": "Сбор релокаций...",
        "searching_metadata": "Поиск указателя на метаданные...",
        "warning_no_pointer": "Внимание: Указатель не найден через релокации, пробуем альтернативный метод...",
        "multiple_candidates": "Найдено несколько кандидатов, используем первый: ",
        "scanning_magic": "Сканирование magic bytes метаданных...",
        "found_at_offset": "Найдены метаданные по смещению: ",
        "scanning_signature": "Сканирование сигнатуры метаданных...",
        "found_signature": "Найдена сигнатура метаданных по смещению: ",
        "no_metadata_libunity": "Ошибка: Метаданные не найдены в libunity.so",
        "found_marker": "Найден маркер конца метаданных (",
        "64bit": "64-бит",
        "32bit": "32-бит",
        "warning_end_marker": "Внимание: Маркер конца не найден, используем полный дамп.",
        "metadata_size": "Размер метаданных: ",
        "found_offset_candidates": "Найдено ",
        "offset_candidates": " кандидатов смещения",
        "validated_pairs": "Проверено ",
        "offset_size_pairs": " пар смещение/размер",
        "found_section": "Найдено ",
        "at_offset": " по смещению ",
        "failed_heuristic": "Не удалось эвристику: ",
        "debug_saved": "Отладочный дамп сохранён в ",
        "warning_unknown_version": "Внимание: Неизвестная версия метаданных ",
        "warning_limited_support": "Внимание: Версия ",
        "limited_support": " может иметь ограниченную поддержку",
        "warning_sections": "Внимание: Найдено только ",
        "expected_sections": " секций (ожидалось 29)",
        "output": "Вывод: ",
        "decrypt_success": "Метаданные успешно расшифрованы!",
        "starting_decrypt": "Начало расшифровки метаданных...",
        "not_encrypted": "Метаданные не зашифрованы или используется неизвестное шифрование",
        "file_not_exist": "Ошибка: Файл ",
        "does_not_exist": " не существует.",
        "bytes_hex": "Байты из ",
        "bytes_identical": "Первые ",
        "bytes_identical_end": " байт идентичны.",
        "bytes_different": "Байты ",
        "are_different": " различаются - возможна защита по смещению(ям) ",
        "frida_saved": "Скрипт Frida сохранён в ",
        "memory_dump_saved": "Скрипт дампа памяти Frida сохранён в ",
        "python_saved": "Python runner сохранён в ",
        "running": "Загрузка... ",
        "current_lang": "Текущий язык: ",
        "lang_changed": "Язык изменён на ",
    },
}

current_language = "en"


def get(key: str) -> str:
    return LANGUAGES[current_language].get(key, key)


def set_language(lang: str):
    global current_language
    if lang in LANGUAGES:
        current_language = lang


def toggle_language() -> str:
    global current_language
    current_language = "ru" if current_language == "en" else "en"
    return current_language
